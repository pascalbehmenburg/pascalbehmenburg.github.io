<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><meta http-equiv=X-UA-Compatible content=ie=edge><title>How This Blog Was Made</title><link rel=stylesheet href=./main.css><link rel=icon href=./favicon.ico type=image/x-icon><body><nav><a href=./index.html>Pascal</a><a href=./about.html>About</a></nav><main style="padding: 2%;"><article><h2 id=how-this-blog-was-made>How This Blog Comes to Life [<a href=/how_this_blog_was_made.html#how-this-blog-was-made style="text-decoration: none;">#</a>]</h2><p><sub>written on July 21, 2025 by Pascal Behmenburg</sub><hr><h3 id=whats-the-big-idea>What’s the Big Idea? [<a href=/how_this_blog_was_made.html#whats-the-big-idea style="text-decoration: none;">#</a>]</h3><p>I wanted a live Markdown-to-HTML server that updates on the fly, no rebuilds, no headaches. My must-haves:<ul><li><dl><dt><strong>Instant Rendering</strong><dd>Markdown files served as HTML with handy, shareable header links</dl><li><dl><dt><strong>Dynamic Feed</strong><dd>Auto-generated list of posts from a folder</dl><li><dl><dt><strong>Hot Reload</strong><dd>Edit a post, refresh the page, see changes immediately</dl></ul><p>Static site generators are cool, but I craved real-time feedback. So I choose Dioxus (Rust’s React sibling) to glue it all together. I may later on toggle on static-site generation for production, but for writing, I prefer the flexibility of a live server.<h3 id=markdown-parsing-with-pulldown-cmark>Markdown Parsing with pulldown-cmark [<a href=/how_this_blog_was_made.html#markdown-parsing-with-pulldown-cmark style="text-decoration: none;">#</a>]</h3><hr><p>I chose <a href=https://github.com/pulldown-cmark/pulldown-cmark>pulldown-cmark</a> for its speed and extensibility. <a href=https://github.com/pulldown-cmark/pulldown-cmark>pulldown-cmark</a> makes it possible to intercept the parsing via an Event-driven API and modify the HTML output for headers to our liking.<pre style=background-color:#2b303b;>
<span style=color:#b48ead;>pub fn </span><span style=color:#8fa1b3;>parse_blog_markdown</span><span style=color:#c0c5ce;>(</span><span style=color:#bf616a;>blog_id</span><span style=color:#c0c5ce;>: &</span><span style=color:#b48ead;>str</span><span style=color:#c0c5ce;>, </span><span style=color:#bf616a;>markdown</span><span style=color:#c0c5ce;>: &</span><span style=color:#b48ead;>str</span><span style=color:#c0c5ce;>, </span><span style=color:#bf616a;>is_preview</span><span style=color:#c0c5ce;>: </span><span style=color:#b48ead;>bool</span><span style=color:#c0c5ce;>) -> String {
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> parser = </span><span style=color:#96b5b4;>build_parser</span><span style=color:#c0c5ce;>(markdown);
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let </span><span style=color:#8fa1b3;>html_content </span><span style=color:#c0c5ce;>= |</span><span style=color:#bf616a;>content</span><span style=color:#c0c5ce;>: String| Event::Html(CowStr::from(content));
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let </span><span style=color:#8fa1b3;>text_content </span><span style=color:#c0c5ce;>= |</span><span style=color:#bf616a;>content</span><span style=color:#c0c5ce;>: &</span><span style=color:#b48ead;>'static str</span><span style=color:#c0c5ce;>| Event::Text(CowStr::from(content));
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let mut</span><span style=color:#c0c5ce;> heading = String::new();
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> parser = parser.</span><span style=color:#96b5b4;>flat_map</span><span style=color:#c0c5ce;>(|</span><span style=color:#bf616a;>event</span><span style=color:#c0c5ce;>| </span><span style=color:#b48ead;>match</span><span style=color:#c0c5ce;> event {
</span><span style=color:#c0c5ce;>        Event::Start(Tag::Heading {
</span><span style=color:#c0c5ce;>            level,
</span><span style=color:#c0c5ce;>            id: Some(heading_id),
</span><span style=color:#c0c5ce;>            classes: _,
</span><span style=color:#c0c5ce;>            attrs: _,
</span><span style=color:#c0c5ce;>        }) => {
</span><span style=color:#c0c5ce;>            </span><span style=color:#b48ead;>if</span><span style=color:#c0c5ce;> is_preview {
</span><span style=color:#c0c5ce;>                vec![</span><span style=color:#96b5b4;>html_content</span><span style=color:#c0c5ce;>(format!(
</span><span style=color:#c0c5ce;>                    "</span><span style=color:#a3be8c;>&LTa href=</span><span style=color:#96b5b4;>\"</span><span style=color:#a3be8c;>/blog/</span><span style=color:#d08770;>{}</span><span style=color:#a3be8c;>#</span><span style=color:#d08770;>{}</span><span style=color:#96b5b4;>\"</span><span style=color:#a3be8c;>><</span><span style=color:#d08770;>{}</span><span style=color:#a3be8c;> id=</span><span style=color:#96b5b4;>\"</span><span style=color:#d08770;>{}</span><span style=color:#96b5b4;>\"</span><span style=color:#a3be8c;>></span><span style=color:#c0c5ce;>",
</span><span style=color:#c0c5ce;>                    blog_id, heading_id, level, heading_id
</span><span style=color:#c0c5ce;>                ))]
</span><span style=color:#c0c5ce;>            } </span><span style=color:#b48ead;>else </span><span style=color:#c0c5ce;>{
</span><span style=color:#c0c5ce;>                heading = heading_id.</span><span style=color:#96b5b4;>to_string</span><span style=color:#c0c5ce;>();
</span><span style=color:#c0c5ce;>                vec![</span><span style=color:#96b5b4;>html_content</span><span style=color:#c0c5ce;>(format!("</span><span style=color:#a3be8c;><</span><span style=color:#d08770;>{}</span><span style=color:#a3be8c;> id=</span><span style=color:#96b5b4;>\"</span><span style=color:#d08770;>{}</span><span style=color:#96b5b4;>\"</span><span style=color:#a3be8c;>></span><span style=color:#c0c5ce;>", level, heading_id))]
</span><span style=color:#c0c5ce;>            }
</span><span style=color:#c0c5ce;>        }
</span><span style=color:#c0c5ce;>        Event::End(TagEnd::Heading(level)) => {
</span><span style=color:#c0c5ce;>            </span><span style=color:#b48ead;>if </span><span style=color:#c0c5ce;>!is_preview {
</span><span style=color:#c0c5ce;>                </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> events = vec![
</span><span style=color:#c0c5ce;>                    </span><span style=color:#96b5b4;>text_content</span><span style=color:#c0c5ce;>("</span><span style=color:#a3be8c;> [</span><span style=color:#c0c5ce;>"),
</span><span style=color:#c0c5ce;>                    </span><span style=color:#96b5b4;>html_content</span><span style=color:#c0c5ce;>(format!(
</span><span style=color:#c0c5ce;>                        "</span><span style=color:#a3be8c;>&LTa href=</span><span style=color:#96b5b4;>\"</span><span style=color:#a3be8c;>/blog/</span><span style=color:#d08770;>{}</span><span style=color:#a3be8c;>#</span><span style=color:#d08770;>{}</span><span style=color:#96b5b4;>\"</span><span style=color:#a3be8c;> style=</span><span style=color:#96b5b4;>\"</span><span style=color:#a3be8c;>text-decoration: none;</span><span style=color:#96b5b4;>\"</span><span style=color:#a3be8c;>>#&LT/a></span><span style=color:#c0c5ce;>",
</span><span style=color:#c0c5ce;>                        blog_id, heading
</span><span style=color:#c0c5ce;>                    )),
</span><span style=color:#c0c5ce;>                    </span><span style=color:#96b5b4;>text_content</span><span style=color:#c0c5ce;>("</span><span style=color:#a3be8c;>]</span><span style=color:#c0c5ce;>"),
</span><span style=color:#c0c5ce;>                    </span><span style=color:#96b5b4;>html_content</span><span style=color:#c0c5ce;>(format!("</span><span style=color:#a3be8c;>&LT/</span><span style=color:#d08770;>{}</span><span style=color:#a3be8c;>></span><span style=color:#c0c5ce;>", level)),
</span><span style=color:#c0c5ce;>                ];
</span><span style=color:#c0c5ce;>                heading.</span><span style=color:#96b5b4;>clear</span><span style=color:#c0c5ce;>();
</span><span style=color:#c0c5ce;>                events
</span><span style=color:#c0c5ce;>            } </span><span style=color:#b48ead;>else </span><span style=color:#c0c5ce;>{
</span><span style=color:#c0c5ce;>                vec![</span><span style=color:#96b5b4;>html_content</span><span style=color:#c0c5ce;>(format!("</span><span style=color:#a3be8c;>&LT/</span><span style=color:#d08770;>{}</span><span style=color:#a3be8c;>>&LT/a></span><span style=color:#c0c5ce;>", level))]
</span><span style=color:#c0c5ce;>            }
</span><span style=color:#c0c5ce;>        }
</span><span style=color:#c0c5ce;>        _ => vec![event],
</span><span style=color:#c0c5ce;>    });
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let mut</span><span style=color:#c0c5ce;> html_output = String::new();
</span><span style=color:#c0c5ce;>    html::push_html(&</span><span style=color:#b48ead;>mut</span><span style=color:#c0c5ce;> html_output, parser);
</span><span style=color:#c0c5ce;>    html_output
</span><span style=color:#c0c5ce;>}
</span></pre><h3 id=api>The API [<a href=/how_this_blog_was_made.html#api style="text-decoration: none;">#</a>]</h3><hr><p>Three server functions fetch IDs, full posts, and 3-line previews straight from a directory of markdown files:<pre style=background-color:#2b303b;>
<span style=color:#c0c5ce;>#[</span><span style=color:#bf616a;>server</span><span style=color:#c0c5ce;>(Blog)]
</span><span style=color:#b48ead;>pub</span><span style=color:#c0c5ce;> async </span><span style=color:#b48ead;>fn </span><span style=color:#8fa1b3;>blog</span><span style=color:#c0c5ce;>(</span><span style=color:#bf616a;>blog_id</span><span style=color:#c0c5ce;>: String) -> Result&LTString, ServerFnError> {
</span><span style=color:#c0c5ce;>    Ok(</span><span style=color:#96b5b4;>parse_blog_markdown</span><span style=color:#c0c5ce;>(
</span><span style=color:#c0c5ce;>        &blog_id,
</span><span style=color:#c0c5ce;>        &</span><span style=color:#96b5b4;>get_blog_by_id</span><span style=color:#c0c5ce;>(&blog_id).await?,
</span><span style=color:#c0c5ce;>        </span><span style=color:#d08770;>false</span><span style=color:#c0c5ce;>,
</span><span style=color:#c0c5ce;>    ))
</span><span style=color:#c0c5ce;>}
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>#[</span><span style=color:#bf616a;>server</span><span style=color:#c0c5ce;>(Feed)]
</span><span style=color:#b48ead;>pub</span><span style=color:#c0c5ce;> async </span><span style=color:#b48ead;>fn </span><span style=color:#8fa1b3;>get_blog_ids</span><span style=color:#c0c5ce;>() -> Result&LTVec&LTString>, ServerFnError> {
</span><span style=color:#c0c5ce;>    Ok(WalkDir::new(</span><span style=color:#d08770;>BLOG_POST_PATH</span><span style=color:#c0c5ce;>)
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>into_iter</span><span style=color:#c0c5ce;>()
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>filter_map</span><span style=color:#c0c5ce;>(|</span><span style=color:#bf616a;>e</span><span style=color:#c0c5ce;>| e.</span><span style=color:#96b5b4;>ok</span><span style=color:#c0c5ce;>())
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>filter</span><span style=color:#c0c5ce;>(|</span><span style=color:#bf616a;>e</span><span style=color:#c0c5ce;>| e.</span><span style=color:#96b5b4;>file_type</span><span style=color:#c0c5ce;>().</span><span style=color:#96b5b4;>is_file</span><span style=color:#c0c5ce;>())
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>filter_map</span><span style=color:#c0c5ce;>(|</span><span style=color:#bf616a;>e</span><span style=color:#c0c5ce;>| {
</span><span style=color:#c0c5ce;>            e.</span><span style=color:#96b5b4;>path</span><span style=color:#c0c5ce;>()
</span><span style=color:#c0c5ce;>                .</span><span style=color:#96b5b4;>file_stem</span><span style=color:#c0c5ce;>()
</span><span style=color:#c0c5ce;>                .</span><span style=color:#96b5b4;>map</span><span style=color:#c0c5ce;>(|</span><span style=color:#bf616a;>stem</span><span style=color:#c0c5ce;>| stem.</span><span style=color:#96b5b4;>to_string_lossy</span><span style=color:#c0c5ce;>().</span><span style=color:#96b5b4;>to_string</span><span style=color:#c0c5ce;>())
</span><span style=color:#c0c5ce;>        })
</span><span style=color:#c0c5ce;>        .collect::&LTVec&LTString>>())
</span><span style=color:#c0c5ce;>}
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>#[</span><span style=color:#bf616a;>server</span><span style=color:#c0c5ce;>(BlogPreview)]
</span><span style=color:#b48ead;>pub</span><span style=color:#c0c5ce;> async </span><span style=color:#b48ead;>fn </span><span style=color:#8fa1b3;>blog_preview</span><span style=color:#c0c5ce;>(</span><span style=color:#bf616a;>blog_id</span><span style=color:#c0c5ce;>: String) -> Result&LTString, ServerFnError> {
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> content = fs::read_to_string(format!("</span><span style=color:#d08770;>{}</span><span style=color:#a3be8c;>/</span><span style=color:#d08770;>{}</span><span style=color:#a3be8c;>.md</span><span style=color:#c0c5ce;>", </span><span style=color:#d08770;>BLOG_POST_PATH</span><span style=color:#c0c5ce;>, blog_id))?;
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> lines: Vec<&</span><span style=color:#b48ead;>str</span><span style=color:#c0c5ce;>> = content.</span><span style=color:#96b5b4;>lines</span><span style=color:#c0c5ce;>().</span><span style=color:#96b5b4;>take</span><span style=color:#c0c5ce;>(</span><span style=color:#d08770;>3</span><span style=color:#c0c5ce;>).</span><span style=color:#96b5b4;>collect</span><span style=color:#c0c5ce;>();
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> preview_md = lines.</span><span style=color:#96b5b4;>join</span><span style=color:#c0c5ce;>("</span><span style=color:#96b5b4;>\n</span><span style=color:#c0c5ce;>");
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> html = </span><span style=color:#96b5b4;>parse_blog_markdown</span><span style=color:#c0c5ce;>(&blog_id, &preview_md, </span><span style=color:#d08770;>true</span><span style=color:#c0c5ce;>);
</span><span style=color:#c0c5ce;>    Ok(html)
</span><span style=color:#c0c5ce;>}
</span></pre><h3 id=dioxus-components>Dioxus Components [<a href=/how_this_blog_was_made.html#dioxus-components style="text-decoration: none;">#</a>]</h3><hr><p>I built three components mirroring React patterns:<ul><li><dl><dt><strong>Feed</strong><dd>Grabs IDs, loops through previews</dl><li><dl><dt><strong>BlogPreview</strong><dd>Shows the 3-line teaser</dl><li><dl><dt><strong>BlogPost</strong><dd>Renders full post with dangerous_inner_html</dl></ul><pre style=background-color:#2b303b;>
<span style=color:#c0c5ce;>#[</span><span style=color:#bf616a;>component</span><span style=color:#c0c5ce;>]
</span><span style=color:#b48ead;>pub fn </span><span style=color:#8fa1b3;>Feed</span><span style=color:#c0c5ce;>() -> Element {
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> blog_ids = </span><span style=color:#96b5b4;>use_server_future</span><span style=color:#c0c5ce;>(api::get_blog_ids)?()
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>unwrap</span><span style=color:#c0c5ce;>()
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>unwrap_or_default</span><span style=color:#c0c5ce;>();
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>    rsx! {
</span><span style=color:#c0c5ce;>        div {
</span><span style=color:#c0c5ce;>            {blog_ids.</span><span style=color:#96b5b4;>iter</span><span style=color:#c0c5ce;>().</span><span style=color:#96b5b4;>map</span><span style=color:#c0c5ce;>(|</span><span style=color:#bf616a;>id</span><span style=color:#c0c5ce;>| {
</span><span style=color:#c0c5ce;>                rsx! {
</span><span style=color:#c0c5ce;>                    BlogPreview { id: id },
</span><span style=color:#c0c5ce;>                    hr { width: "</span><span style=color:#a3be8c;>100%</span><span style=color:#c0c5ce;>", size: "</span><span style=color:#a3be8c;>10</span><span style=color:#c0c5ce;>"  }
</span><span style=color:#c0c5ce;>                }
</span><span style=color:#c0c5ce;>            })}
</span><span style=color:#c0c5ce;>        }
</span><span style=color:#c0c5ce;>    }
</span><span style=color:#c0c5ce;>}
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>#[</span><span style=color:#bf616a;>component</span><span style=color:#c0c5ce;>]
</span><span style=color:#b48ead;>pub fn </span><span style=color:#8fa1b3;>BlogPreview</span><span style=color:#c0c5ce;>(</span><span style=color:#bf616a;>id</span><span style=color:#c0c5ce;>: String) -> Element {
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> div_id = format!("</span><span style=color:#a3be8c;>blog-preview-</span><span style=color:#d08770;>{}</span><span style=color:#c0c5ce;>", id);
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> html = </span><span style=color:#96b5b4;>use_server_future</span><span style=color:#c0c5ce;>(</span><span style=color:#b48ead;>move </span><span style=color:#c0c5ce;>|| api::blog_preview(id.</span><span style=color:#96b5b4;>clone</span><span style=color:#c0c5ce;>()))?()
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>unwrap</span><span style=color:#c0c5ce;>()
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>unwrap_or_default</span><span style=color:#c0c5ce;>();
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>    rsx! {
</span><span style=color:#c0c5ce;>        div {
</span><span style=color:#c0c5ce;>            class: "</span><span style=color:#a3be8c;>{div_id}</span><span style=color:#c0c5ce;>",
</span><span style=color:#c0c5ce;>            dangerous_inner_html: "</span><span style=color:#a3be8c;>{html}</span><span style=color:#c0c5ce;>",
</span><span style=color:#c0c5ce;>        },
</span><span style=color:#c0c5ce;>    }
</span><span style=color:#c0c5ce;>}
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>#[</span><span style=color:#bf616a;>component</span><span style=color:#c0c5ce;>]
</span><span style=color:#b48ead;>pub fn </span><span style=color:#8fa1b3;>Blog</span><span style=color:#c0c5ce;>(</span><span style=color:#bf616a;>id</span><span style=color:#c0c5ce;>: String) -> Element {
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> div_id = format!("</span><span style=color:#a3be8c;>blog-</span><span style=color:#d08770;>{}</span><span style=color:#c0c5ce;>", id);
</span><span style=color:#c0c5ce;>    </span><span style=color:#b48ead;>let</span><span style=color:#c0c5ce;> html = </span><span style=color:#96b5b4;>use_server_future</span><span style=color:#c0c5ce;>(</span><span style=color:#b48ead;>move </span><span style=color:#c0c5ce;>|| api::blog(String::from(&id)))?()
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>unwrap</span><span style=color:#c0c5ce;>()
</span><span style=color:#c0c5ce;>        .</span><span style=color:#96b5b4;>unwrap_or_default</span><span style=color:#c0c5ce;>();
</span><span style=color:#c0c5ce;>
</span><span style=color:#c0c5ce;>    rsx! {
</span><span style=color:#c0c5ce;>        div {
</span><span style=color:#c0c5ce;>            id: "</span><span style=color:#a3be8c;>{div_id}</span><span style=color:#c0c5ce;>",
</span><span style=color:#c0c5ce;>            dangerous_inner_html: "</span><span style=color:#a3be8c;>{html}</span><span style=color:#c0c5ce;>"
</span><span style=color:#c0c5ce;>        }
</span><span style=color:#c0c5ce;>    }
</span><span style=color:#c0c5ce;>}
</span></pre><h3 id=styling-syntax>Styling & Syntax [<a href=/how_this_blog_was_made.html#styling-syntax style="text-decoration: none;">#</a>]</h3><hr><ul><li><strong>No-Class CSS</strong>: I tweaked <a href=https://concrete.style/>concrete.css</a> for responsive layouts and punchy link colors<li><strong>Syntax Highlighting</strong>: Plugged in a subset of languages supported by <a href=https://highlightjs.org/>highlight.js</a> with two Base16 themes—light or dark, your choice</ul><p>That is all the magic there is to building a blog, as the one you’re reading right now!</article></main>